<ThemedButton>:
    background_normal: ''  # sets initial background to white
    background_color: [*app.theme.bg2[:3], 0.2]  # makes it transparent
    size_hint_y: 1
    size_hint_max_y: dp(app.BUTTON_MAX_H)
    size_hint_min_y: dp(app.BUTTON_MAX_H - 4)
    border: (0, 0, 0, 0)
    color: app.theme.fg3
    font_name: 'DejaVuSans'
    font_size: dp(app.BUTTON_FONT_SIZE)
    bold: True
    canvas.before:
        Color:
            rgba: app.theme.bg1 if self.state == 'normal' else app.theme.bg2
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(10)]

<AppButton>:
    size_hint_x: None  # to set explicit width
    width: self.height
    background_down: self.background_normal  # use same image when clicked
    font_size: dp(app.BUTTON_FONT_SIZE - 2)
    on_press: self.callback()

<CommandButton>:
    size_hint_y: None
    height: dp(app.BUTTON_MAX_H)

<DeviceButton>:
    size_hint_y: 2
    size_hint_max_y: None
    size_hint_min_y: None
    canvas.before:
        Color:
            rgba: app.theme.bg1 if self.state == 'normal' else app.theme.bg2
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [dp(10)]
    background_color: [*app.theme.bg3[:3], 0.9]  # makes it transparent
    on_press: self.callback()

<PopupButton@ThemedButton>: